<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FREEDOM â€” Emoji Art</title>
<style>
  :root{
    --bg1: #0f2027;
    --bg2: #203a43;
    --bg3: #2c5364;
    --tile-size: min(9vmin, 60px); /* responsive tile size */
    --gap: calc(var(--tile-size) * 0.06);
    --emoji-scale: 1;
  }

  html,body{
    height:100%;
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.04), transparent),
                linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3));
    color: #fff;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
    box-sizing:border-box;
  }

  .card{
    width: min(1100px, 98vw);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:20px;
    padding:22px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(6px) saturate(140%);
  }

  header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    margin-bottom:12px;
  }

  h1{
    margin:0;
    font-size: clamp(18px, 2.2vmin, 20px);
    letter-spacing:1px;
    display:flex;
    gap:10px;
    align-items:center;
  }

  .controls{
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }

  .emoji-input{
    font-size:18px;
    padding:6px 8px;
    border-radius:8px;
    border:none;
    outline:none;
    min-width:64px;
    background: rgba(255,255,255,0.03);
    color:inherit;
  }
  .btn{
    cursor:pointer;
    border:none;
    padding:8px 12px;
    border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    color:inherit;
    font-weight:600;
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
  }
  .btn:hover{ transform: translateY(-3px); }

  /* grid container for the emoji letters */
  .canvas{
    display:flex;
    gap: calc(var(--tile-size) * 0.7);
    justify-content:center;
    align-items:center;
    padding:14px;
    overflow:auto;
  }

  .letter{
    display:grid;
    grid-template-columns: repeat(var(--cols), var(--tile-size));
    grid-auto-rows: var(--tile-size);
    gap: var(--gap);
    filter: drop-shadow(0 8px 18px rgba(0,0,0,0.45));
    transform-origin:center;
    animation: float 4s ease-in-out infinite;
  }

  /* slight stagger per letter */
  .letter:nth-child(1){ animation-delay: 0s; }
  .letter:nth-child(2){ animation-delay: .12s; }
  .letter:nth-child(3){ animation-delay: .24s; }
  .letter:nth-child(4){ animation-delay: .36s; }
  .letter:nth-child(5){ animation-delay: .48s; }
  .letter:nth-child(6){ animation-delay: .6s; }
  .letter:nth-child(7){ animation-delay: .72s; }

  @keyframes float{
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-6px) scale(1.02); }
    100% { transform: translateY(0) scale(1); }
  }

  .tile{
    display:flex;
    align-items:center;
    justify-content:center;
    font-size: calc(var(--tile-size) * var(--emoji-scale));
    transition: transform .18s ease, filter .18s;
    transform-origin:center;
    user-select:none;
    -webkit-user-select:none;
    -webkit-touch-callout:none;
  }
  .tile.off{
    opacity:0; transform: scale(.2);
    filter: blur(2px);
  }

  .tile.on{
    transform: rotate(0deg) scale(1);
  }

  /* hover sparkle */
  .tile:hover{
    transform: scale(1.12) rotate(-6deg);
    z-index:3;
    text-shadow: 0 6px 18px rgba(0,0,0,0.6);
  }

  footer{
    margin-top:12px;
    text-align:center;
    font-size:12px;
    opacity:.7;
  }

  /* responsive tweaks */
  @media (max-width:720px){
    :root{ --tile-size: min(12vmin, 44px); }
    .card{ padding:14px; border-radius:14px; }
  }
</style>
</head>
<body>
  <div class="card" role="main" aria-label="Emoji FREEDOM art">
    <header>
      <h1>ğŸ•Šï¸ <span>FREEDOM â€” Emoji Art</span></h1>
      <div class="controls">
        <label style="opacity:.9;">Emoji
          <input id="emojiInput" class="emoji-input" value="ğŸ•Šï¸" title="åœ¨è¿™é‡Œè¾“å…¥ä½ æƒ³ç”¨çš„ emoji">
        </label>
        <label style="opacity:.9;">Size
          <input id="sizeRange" type="range" min="0.6" max="1.6" step="0.05" value="1" title="è°ƒæ•´ emoji å¤§å°">
        </label>
        <button id="randomBtn" class="btn" title="éšæœº emoji">éšæœº</button>
        <button id="glowBtn" class="btn" title="åˆ‡æ¢é«˜å…‰/æ™®é€š">é«˜å…‰</button>
      </div>
    </header>

    <section class="canvas" id="canvas" aria-hidden="false"></section>

    <footer>
      ç‚¹å‡»æˆ–æ›¿æ¢å·¦ä¸Š emojiã€æŒ‰â€œéšæœºâ€è¯•è¯•ä¸åŒé£æ ¼ã€‚é¡µé¢å“åº”å¼ï¼Œä¼šåœ¨æ‰‹æœº/æ¡Œé¢éƒ½ä¿æŒé†’ç›®ã€‚
    </footer>
  </div>

<script>
/*
 Render each letter as a small bitmap (0 = empty, 1 = emoji tile).
 Patterns are 7 rows by 7 cols (can be adjusted).
 Letters included: F R E E D O M
*/

const patterns = {
  F: [
    "1111111",
    "1100000",
    "1100000",
    "1111110",
    "1100000",
    "1100000",
    "1100000"
  ],
  R: [
    "1111110",
    "1100011",
    "1100011",
    "1111110",
    "1111000",
    "1101100",
    "1100110"
  ],
  E: [
    "1111111",
    "1100000",
    "1100000",
    "1111110",
    "1100000",
    "1100000",
    "1111111"
  ],
  D: [
    "1111100",
    "1100110",
    "1100011",
    "1100011",
    "1100011",
    "1100110",
    "1111100"
  ],
  O: [
    "0111110",
    "1100011",
    "1100011",
    "1100011",
    "1100011",
    "1100011",
    "0111110"
  ],
  M: [
    "11000011",
    "11100111",
    "11111111",
    "11011011",
    "11000011",
    "11000011",
    "11000011"
  ]
};

// Target word (can be changed)
const WORD = "FREEDOM";

// canvas element
const canvas = document.getElementById('canvas');
const emojiInput = document.getElementById('emojiInput');
const sizeRange = document.getElementById('sizeRange');
const randomBtn = document.getElementById('randomBtn');
const glowBtn = document.getElementById('glowBtn');

let currentEmoji = emojiInput.value || "ğŸ•Šï¸";
let emojiScale = parseFloat(sizeRange.value);
let glow = false;

function makeLetterElement(letter){
  const pattern = patterns[letter];
  if(!pattern) return document.createElement('div');
  // determine columns from string length
  const cols = pattern[0].length;
  const letterWrap = document.createElement('div');
  letterWrap.className = 'letter';
  letterWrap.style.setProperty('--cols', cols);
  for(let r=0;r<pattern.length;r++){
    const row = pattern[r];
    for(let c=0;c<cols;c++){
      const ch = row[c] || '0';
      const tile = document.createElement('div');
      tile.className = 'tile ' + (ch === '1' ? 'on' : 'off');
      tile.setAttribute('data-row', r);
      tile.setAttribute('data-col', c);
      tile.textContent = (ch === '1') ? currentEmoji : '';
      // click to pop
      tile.addEventListener('click', ()=> {
        tile.animate([
          { transform: 'scale(1)' },
          { transform: 'scale(1.6) rotate(6deg)' },
          { transform: 'scale(1)' }
        ], { duration: 360, easing: 'cubic-bezier(.2,.9,.3,1)'});
      });
      letterWrap.appendChild(tile);
    }
  }
  return letterWrap;
}

function render(){
  canvas.innerHTML = '';
  // create each letter and append
  for(let ch of WORD){
    const el = makeLetterElement(ch);
    canvas.appendChild(el);
  }
  // apply current emoji scale
  document.documentElement.style.setProperty('--emoji-scale', emojiScale);
  // update tiles' emoji content (for existing elements)
  Array.from(document.querySelectorAll('.tile.on')).forEach(t => t.textContent = currentEmoji);
  // toggle glow effect
  document.querySelectorAll('.tile.on').forEach(t => {
    if(glow){
      t.style.filter = 'drop-shadow(0 10px 18px rgba(255,255,255,0.12))';
    } else {
      t.style.filter = '';
    }
  });
}

// random emoji helper
const sampleEmojis = ["ğŸ•Šï¸","ğŸŸ¡","âœ¨","ğŸ”¥","ğŸŒˆ","ğŸŒŸ","ğŸ—½","ğŸ†","ğŸ•¯ï¸","âš¡","ğŸƒ","ğŸŒŠ","ğŸŒ»","ğŸ’«","ğŸª¶","ğŸ¤","ğŸ§­","ğŸŒŒ","ğŸ’¥"];
function randomEmoji(){
  return sampleEmojis[Math.floor(Math.random()*sampleEmojis.length)];
}

// events
emojiInput.addEventListener('input', (e) => {
  currentEmoji = e.target.value || 'ğŸ•Šï¸';
  // if user typed multiple characters like "dove + variation", keep first grapheme cluster maybe - but we allow multi glyphs
  render();
});

sizeRange.addEventListener('input', (e)=>{
  emojiScale = parseFloat(e.target.value);
  render();
});

randomBtn.addEventListener('click', ()=>{
  const r = randomEmoji();
  emojiInput.value = r;
  currentEmoji = r;
  render();
});

glowBtn.addEventListener('click', ()=>{
  glow = !glow;
  glowBtn.textContent = glow ? 'é«˜å…‰ï¼šå¼€' : 'é«˜å…‰ï¼šå…³';
  render();
});

// initial render
render();

// make it a little more dynamic: pulse rows in wave
setInterval(()=> {
  const letters = Array.from(document.querySelectorAll('.letter'));
  letters.forEach((letter, i)=>{
    const tiles = Array.from(letter.querySelectorAll('.tile.on'));
    tiles.forEach((t, idx)=>{
      const delay = (i*60) + (idx*5);
      t.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.05)' },
        { transform: 'scale(1)' }
      ], { duration: 900, delay, easing: 'ease-in-out' });
    });
  });
}, 1600);
</script>
</body>
</html>
